\hypertarget{mp__local_8h}{\section{/\-Users/kiskele/\-Dropbox/suli/mptcp/source/src/include/mp\-\_\-local.h File Reference}
\label{mp__local_8h}\index{/\-Users/kiskele/\-Dropbox/suli/mptcp/source/src/include/mp\-\_\-local.\-h@{/\-Users/kiskele/\-Dropbox/suli/mptcp/source/src/include/mp\-\_\-local.\-h}}
}


M\-P\-T Server global variables, macros and function definitions.  


This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mp__local_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{mp__local_8h_aed3c6265283e695a92424130ba431f17}{\#define {\bfseries mpt\-\_\-start}~pthread\-\_\-mutex\-\_\-init(\&mp\-\_\-mpt\-\_\-lockvar , N\-U\-L\-L)}\label{mp__local_8h_aed3c6265283e695a92424130ba431f17}

\item 
\hypertarget{mp__local_8h_a908d308a8d3c0d5bb85cdcf16adaa2c5}{\#define {\bfseries mpt\-\_\-lock}~pthread\-\_\-mutex\-\_\-lock(\&mp\-\_\-mpt\-\_\-lockvar)}\label{mp__local_8h_a908d308a8d3c0d5bb85cdcf16adaa2c5}

\item 
\hypertarget{mp__local_8h_a783e3e6cc43b43d11476f2043b18448c}{\#define {\bfseries mpt\-\_\-unlock}~pthread\-\_\-mutex\-\_\-unlock(\&mp\-\_\-mpt\-\_\-lockvar)}\label{mp__local_8h_a783e3e6cc43b43d11476f2043b18448c}

\item 
\hypertarget{mp__local_8h_a47d89df5045b6f980de4dc676f20fdf7}{\#define {\bfseries mpt\-\_\-end}~pthread\-\_\-mutex\-\_\-destroy(\&mp\-\_\-mpt\-\_\-lockvar)}\label{mp__local_8h_a47d89df5045b6f980de4dc676f20fdf7}

\item 
\hypertarget{mp__local_8h_ad003910d9adf5b70389eac799a63181c}{\#define \hyperlink{mp__local_8h_ad003910d9adf5b70389eac799a63181c}{exerror}(c, z)~\{fprintf(stderr, \char`\"{}\%s\-: \%s Errno\-: \%d\textbackslash{}n\char`\"{}, \-\_\-\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N\-\_\-\-\_\-, c, z); exit(z);\}}\label{mp__local_8h_ad003910d9adf5b70389eac799a63181c}

\begin{DoxyCompactList}\small\item\em Print error message to stderr and exit with error code. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_a91a89bd6fc032c377b22aa99f850c94f}{\#define \hyperlink{mp__local_8h_a91a89bd6fc032c377b22aa99f850c94f}{reterror}(c, z)~\{fprintf(stderr, \char`\"{}\%s()\-: \%s Errno\-: \%d\textbackslash{}n\char`\"{}, \-\_\-\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N\-\_\-\-\_\-, c, z); return(z);\}}\label{mp__local_8h_a91a89bd6fc032c377b22aa99f850c94f}

\begin{DoxyCompactList}\small\item\em Print error message to stderr and return with error code. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_aec8f38646030b71340e7400e83fd0c21}{\#define \hyperlink{mp__local_8h_aec8f38646030b71340e7400e83fd0c21}{getline}(o, z)~fgets(z, 128, o)}\label{mp__local_8h_aec8f38646030b71340e7400e83fd0c21}

\begin{DoxyCompactList}\small\item\em Read one line text. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_ab6d022d54a2cd73b494797c18ebe6ccb}{\#define {\bfseries S\-I\-Z\-E\-\_\-\-I\-N\-A\-D\-D\-R}~sizeof(struct in\-\_\-addr)}\label{mp__local_8h_ab6d022d54a2cd73b494797c18ebe6ccb}

\item 
\hypertarget{mp__local_8h_a37b08d8920e19b8fbadfd36c5bce47e4}{\#define {\bfseries S\-I\-Z\-E\-\_\-\-I\-N6\-A\-D\-D\-R}~sizeof(struct in6\-\_\-addr)}\label{mp__local_8h_a37b08d8920e19b8fbadfd36c5bce47e4}

\item 
\hypertarget{mp__local_8h_a16841e22cd00d61b2afa8e9f7bed8acd}{\#define {\bfseries S\-I\-Z\-E\-\_\-\-D\-G\-R\-A\-M}~65536}\label{mp__local_8h_a16841e22cd00d61b2afa8e9f7bed8acd}

\item 
\hypertarget{mp__local_8h_aed9dd6b34f282332f5619a4c175792ee}{\#define \hyperlink{mp__local_8h_aed9dd6b34f282332f5619a4c175792ee}{C\-H\-E\-C\-K\-\_\-\-K\-E\-E\-P\-A\-L\-I\-V\-E}~1}\label{mp__local_8h_aed9dd6b34f282332f5619a4c175792ee}

\begin{DoxyCompactList}\small\item\em Interval for scan pathes reached deadtimer. \end{DoxyCompactList}\item 
\hypertarget{group___status_values_gaccd03d70d08e4382b9605079d6831f18}{\#define \hyperlink{group___status_values_gaccd03d70d08e4382b9605079d6831f18}{S\-T\-A\-T\-\_\-\-O\-K}~0x00}\label{group___status_values_gaccd03d70d08e4382b9605079d6831f18}

\begin{DoxyCompactList}\small\item\em Status O\-K. \end{DoxyCompactList}\item 
\hypertarget{group___status_values_ga955c58d0d8baed9e9fe6e56557db7ed3}{\#define \hyperlink{group___status_values_ga955c58d0d8baed9e9fe6e56557db7ed3}{S\-T\-A\-T\-\_\-\-P\-A\-T\-H\-\_\-\-D\-O\-W\-N}~0x80}\label{group___status_values_ga955c58d0d8baed9e9fe6e56557db7ed3}

\begin{DoxyCompactList}\small\item\em Path is down. \end{DoxyCompactList}\item 
\hypertarget{group___status_values_ga58d9616523b566f2d2f391a8ed762ba1}{\#define \hyperlink{group___status_values_ga58d9616523b566f2d2f391a8ed762ba1}{S\-T\-A\-T\-\_\-\-I\-F\-\_\-\-D\-O\-W\-N}~0x81}\label{group___status_values_ga58d9616523b566f2d2f391a8ed762ba1}

\begin{DoxyCompactList}\small\item\em Interface is down. \end{DoxyCompactList}\item 
\hypertarget{group___status_values_ga79a728901bc3b3e72599aa5578cd064b}{\#define \hyperlink{group___status_values_ga79a728901bc3b3e72599aa5578cd064b}{S\-T\-A\-T\-\_\-\-A\-D\-D\-R\-E\-S\-S\-\_\-\-D\-O\-W\-N}~0x82}\label{group___status_values_ga79a728901bc3b3e72599aa5578cd064b}

\begin{DoxyCompactList}\small\item\em Address is down. \end{DoxyCompactList}\item 
\hypertarget{group___status_values_ga15002df128c27d24f9f25b41d78fa2ae}{\#define \hyperlink{group___status_values_ga15002df128c27d24f9f25b41d78fa2ae}{S\-T\-A\-T\-\_\-\-D\-I\-S\-A\-B\-L\-E\-D}~0x\-F\-F}\label{group___status_values_ga15002df128c27d24f9f25b41d78fa2ae}

\begin{DoxyCompactList}\small\item\em Disabled. \end{DoxyCompactList}\item 
\hypertarget{group___c_m_d_values_gaae6fd10fec2345b5792331f9975357f9}{\#define \hyperlink{group___c_m_d_values_gaae6fd10fec2345b5792331f9975357f9}{C\-M\-D\-\_\-\-K\-E\-E\-P\-A\-L\-I\-V\-E}~0x\-A1}\label{group___c_m_d_values_gaae6fd10fec2345b5792331f9975357f9}

\begin{DoxyCompactList}\small\item\em Keepalive packet. \end{DoxyCompactList}\item 
\hypertarget{group___c_m_d_values_gaab2defcae52a43223ec9391230fad10a}{\#define \hyperlink{group___c_m_d_values_gaab2defcae52a43223ec9391230fad10a}{C\-M\-D\-\_\-\-E\-C\-H\-O}~0x\-A2}\label{group___c_m_d_values_gaab2defcae52a43223ec9391230fad10a}

\begin{DoxyCompactList}\small\item\em E\-C\-H\-O. \end{DoxyCompactList}\item 
\hypertarget{group___c_m_d_values_ga11a3f40a3057a43b43832604f97b6bd6}{\#define \hyperlink{group___c_m_d_values_ga11a3f40a3057a43b43832604f97b6bd6}{C\-M\-D\-\_\-\-P\-\_\-\-S\-T\-A\-T\-U\-S\-\_\-\-C\-H\-A\-N\-G\-E}~0x\-A3}\label{group___c_m_d_values_ga11a3f40a3057a43b43832604f97b6bd6}

\begin{DoxyCompactList}\small\item\em Path status change request. \end{DoxyCompactList}\item 
\hypertarget{group___c_m_d_values_ga3cbfb52f44420bcf27ce2505bf44819a}{\#define \hyperlink{group___c_m_d_values_ga3cbfb52f44420bcf27ce2505bf44819a}{C\-M\-D\-\_\-\-C\-O\-N\-N\-E\-C\-T\-I\-O\-N\-\_\-\-S\-E\-N\-D}~0x\-A4}\label{group___c_m_d_values_ga3cbfb52f44420bcf27ce2505bf44819a}

\begin{DoxyCompactList}\small\item\em Connection update request. \end{DoxyCompactList}\item 
\hypertarget{group___perm_values_gaca8351770ad21d2a65db52aff429f09d}{\#define \hyperlink{group___perm_values_gaca8351770ad21d2a65db52aff429f09d}{P\-E\-R\-M\-\_\-\-N\-O\-N\-E}~0}\label{group___perm_values_gaca8351770ad21d2a65db52aff429f09d}

\begin{DoxyCompactList}\small\item\em Deny sending and receiving connection updates. \end{DoxyCompactList}\item 
\hypertarget{group___perm_values_ga7d9032728496cbc1411aeddd30397245}{\#define \hyperlink{group___perm_values_ga7d9032728496cbc1411aeddd30397245}{P\-E\-R\-M\-\_\-\-S\-E\-N\-D}~1}\label{group___perm_values_ga7d9032728496cbc1411aeddd30397245}

\begin{DoxyCompactList}\small\item\em Send connection update but don't receive from the remote peer. \end{DoxyCompactList}\item 
\hypertarget{group___perm_values_ga562d3864d6a5360b3668a050717057ab}{\#define \hyperlink{group___perm_values_ga562d3864d6a5360b3668a050717057ab}{P\-E\-R\-M\-\_\-\-R\-E\-C\-V}~2}\label{group___perm_values_ga562d3864d6a5360b3668a050717057ab}

\begin{DoxyCompactList}\small\item\em Allow to receive connection updates but don't send any. \end{DoxyCompactList}\item 
\hypertarget{group___perm_values_ga28ba68d6c39f8158eb9ebbd279593487}{\#define \hyperlink{group___perm_values_ga28ba68d6c39f8158eb9ebbd279593487}{P\-E\-R\-M\-\_\-\-B\-O\-T\-H}~3}\label{group___perm_values_ga28ba68d6c39f8158eb9ebbd279593487}

\begin{DoxyCompactList}\small\item\em Allow to send and receive connection updates. \end{DoxyCompactList}\item 
\hypertarget{group___auth_types_gaf8aa0f05591b255db0066ae484330323}{\#define \hyperlink{group___auth_types_gaf8aa0f05591b255db0066ae484330323}{A\-U\-T\-H\-\_\-\-N\-O\-N\-E}~0}\label{group___auth_types_gaf8aa0f05591b255db0066ae484330323}

\begin{DoxyCompactList}\small\item\em Don't use any authentication. \end{DoxyCompactList}\item 
\hypertarget{group___auth_types_gaed9ef794acb1d981707b5a938e829748}{\#define \hyperlink{group___auth_types_gaed9ef794acb1d981707b5a938e829748}{A\-U\-T\-H\-\_\-\-R\-A\-N\-D}~1}\label{group___auth_types_gaed9ef794acb1d981707b5a938e829748}

\begin{DoxyCompactList}\small\item\em Use random number to detect malicious packets. \end{DoxyCompactList}\item 
\hypertarget{group___auth_types_ga9ebc47924081bb6b96183ff86abcb4be}{\#define \hyperlink{group___auth_types_ga9ebc47924081bb6b96183ff86abcb4be}{A\-U\-T\-H\-\_\-\-S\-H\-A256}~2}\label{group___auth_types_ga9ebc47924081bb6b96183ff86abcb4be}

\begin{DoxyCompactList}\small\item\em Use random number and crypt the content of the whole packet with the secret key to an S\-H\-A hash. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \hyperlink{mp__local_8h_ad9a7ec257396a0981b7c34d4c29aee54}{basename} (char $\ast$)
\item 
char $\ast$ \hyperlink{mp__local_8h_a29ba0737e871f9becbdf9b18aec433ec}{trim} (char $\ast$)
\item 
void \hyperlink{mp__local_8h_a779a9a02fed40611b98207967fa8fe76}{mac\-\_\-pton} (char $\ast$, char $\ast$)
\item 
void \hyperlink{mp__local_8h_ad6409ab8494034cdc13ff7ef73471654}{conn\-\_\-print\-\_\-item} (F\-I\-L\-E $\ast$stream, \hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$)
\item 
int \hyperlink{mp__local_8h_aca259911efafb03b293bd21b1d582411}{conn\-\_\-open\-\_\-socket} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$)
\item 
\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$ \hyperlink{mp__local_8h_a2c00e9bb9ed07305b4f2804da2475f64}{conn\-\_\-search\-\_\-ip} (bit\-\_\-8, bit\-\_\-32 $\ast$, bit\-\_\-32 $\ast$, \hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$)
\item 
void $\ast$ \hyperlink{mp__local_8h_afe659fe063d7261a85aa6d4e93b9fd92}{tunnel\-\_\-read\-\_\-thread} (void $\ast$)
\item 
void $\ast$ \hyperlink{mp__local_8h_ad7fd80ef93e961a5cf06ac88f41c4f34}{socket\-\_\-read\-\_\-thread} (void $\ast$)
\item 
void $\ast$ \hyperlink{mp__local_8h_a658a78986397ef5b54cb5344e5ffa160}{cmd\-\_\-read\-\_\-thread} (void $\ast$)
\item 
void $\ast$ \hyperlink{mp__local_8h_a3bb92457ac146b59d2430055ec439b4c}{keepalive\-\_\-send\-\_\-thread} (void $\ast$)
\item 
int \hyperlink{mp__local_8h_a208a9a5384383265498476ec6a6067f7}{check\-\_\-loopback} (char $\ast$)
\item 
int \hyperlink{mp__local_8h_af2bc683761df533775725e8fda548fe0}{check\-\_\-interface} (char $\ast$, int)
\item 
void \hyperlink{mp__local_8h_a446ce59743b5f815479dbb02e412c63d}{interface\-\_\-change\-\_\-status} (char $\ast$, bit\-\_\-8)
\item 
void \hyperlink{mp__local_8h_a5319dbf296a6ef76a73d1e3c791082af}{address\-\_\-change\-\_\-status} (bit\-\_\-32 $\ast$, bit\-\_\-8)
\item 
int \hyperlink{mp__local_8h_a5050eed2d2a7db74251b88065c338002}{path\-\_\-change\-\_\-status} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$, int, bit\-\_\-8)
\item 
int \hyperlink{mp__local_8h_a2e7d36afac5b6fe9837c6f49ee995b0b}{do\-\_\-command} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$, char $\ast$, int $\ast$)
\item 
\hypertarget{mp__local_8h_a4a054e9af1e76780f29ae8687dd40aa0}{int {\bfseries do\-\_\-local\-\_\-cmd} (char $\ast$)}\label{mp__local_8h_a4a054e9af1e76780f29ae8687dd40aa0}

\item 
int \hyperlink{mp__local_8h_ac7f650825a1427dd995e571d1115eae4}{getcmd} (int, char $\ast$, int, int, struct sockaddr $\ast$, unsigned int $\ast$)
\item 
int \hyperlink{mp__local_8h_a607ad21163cd4925cf44f8b06376e3ef}{cmd\-\_\-open\-\_\-socket} (\hyperlink{multipath_8h_ad7a0156e1890c65de09911a138792f6e}{tunnel\-\_\-type} $\ast$)
\item 
\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$ \hyperlink{mp__local_8h_ad16eb426ae11cfdd188d4d480b23f563}{conn\-\_\-new} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$conn)
\item 
int \hyperlink{mp__local_8h_af53d1429392b1c1dbc9250bf0a6839df}{conn\-\_\-activate} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$conn, int replicate)
\item 
int \hyperlink{mp__local_8h_acfb42844cff2af7ba8fb07d62cfe5793}{conn\-\_\-diff} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$old, \hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$new)
\item 
void \hyperlink{mp__local_8h_a1b2a26c6ac333259fc57aa47c3e7c299}{conn\-\_\-mirror} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$dst, \hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$src)
\item 
void \hyperlink{mp__local_8h_a6f875afcff66d59c2f2cf2c4587164d8}{calculate\-\_\-weights} (\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$conn)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{mp__local_8h_a1a131a8589a7faabeb8280de2b2fd892}{pthread\-\_\-mutex\-\_\-t {\bfseries mp\-\_\-mpt\-\_\-lockvar}}\label{mp__local_8h_a1a131a8589a7faabeb8280de2b2fd892}

\item 
\hypertarget{mp__local_8h_ae207e2e02fdde659cbc918346dfc122d}{\hyperlink{multipath_8h_a8fd58c5c9a4f2463735bc00b930e3b05}{connection\-\_\-type} $\ast$ \hyperlink{mp__local_8h_ae207e2e02fdde659cbc918346dfc122d}{mp\-\_\-global\-\_\-conn}}\label{mp__local_8h_ae207e2e02fdde659cbc918346dfc122d}

\begin{DoxyCompactList}\small\item\em The connection list pointer. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_a5f095214fe82d75c9187057a274cd79b}{\hyperlink{multipath_8h_ad7a0156e1890c65de09911a138792f6e}{tunnel\-\_\-type} $\ast$ \hyperlink{mp__local_8h_a5f095214fe82d75c9187057a274cd79b}{mp\-\_\-global\-\_\-tun}}\label{mp__local_8h_a5f095214fe82d75c9187057a274cd79b}

\begin{DoxyCompactList}\small\item\em The tunnel data pointer. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_a764fb4796156f48de447943ef978ad23}{unsigned char \hyperlink{mp__local_8h_a764fb4796156f48de447943ef978ad23}{mp\-\_\-global\-\_\-server}}\label{mp__local_8h_a764fb4796156f48de447943ef978ad23}

\begin{DoxyCompactList}\small\item\em If 0, then only the live connections are allowed to send cmd. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_a5177b995bc2060be2efb1d21496d1971}{\hyperlink{multipath_8h_ad7a0156e1890c65de09911a138792f6e}{tunnel\-\_\-type} \hyperlink{mp__local_8h_a5177b995bc2060be2efb1d21496d1971}{tun}}\label{mp__local_8h_a5177b995bc2060be2efb1d21496d1971}

\begin{DoxyCompactList}\small\item\em Global tunnel interface. \end{DoxyCompactList}\item 
\hypertarget{mp__local_8h_ad027896a70fa7371012024ebbcf53223}{\hyperlink{multipath_8h_a33e3a32d09de77fbf0e03597b8704196}{interface\-\_\-type} \hyperlink{mp__local_8h_ad027896a70fa7371012024ebbcf53223}{eth} \mbox{[}\hyperlink{multipath_8h_abb70478317e07dfd48fb83ae43612a63}{M\-A\-X\-\_\-\-I\-N\-T\-N\-U\-M}\mbox{]}}\label{mp__local_8h_ad027896a70fa7371012024ebbcf53223}

\begin{DoxyCompactList}\small\item\em Array of ethernet interfaces. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
M\-P\-T Server global variables, macros and function definitions. \begin{DoxyAuthor}{Author}
Almasi, Bela; Debrecen, Hungary 
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
Project maintained by Almasi, Bela; Debrecen, Hungary 
\end{DoxyCopyright}
\begin{DoxyDate}{Date}
2012.\-08.\-15. 
\end{DoxyDate}


Definition in file \hyperlink{mp__local_8h_source}{mp\-\_\-local.\-h}.



\subsection{Function Documentation}
\hypertarget{mp__local_8h_a5319dbf296a6ef76a73d1e3c791082af}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!address\-\_\-change\-\_\-status@{address\-\_\-change\-\_\-status}}
\index{address\-\_\-change\-\_\-status@{address\-\_\-change\-\_\-status}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{address\-\_\-change\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}void address\-\_\-change\-\_\-status (
\begin{DoxyParamCaption}
\item[{bit\-\_\-32 $\ast$}]{addr, }
\item[{bit\-\_\-8}]{status}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a5319dbf296a6ef76a73d1e3c791082af}
Change the path status for all path of the address 

Definition at line 80 of file interface.\-c.

\hypertarget{mp__local_8h_ad9a7ec257396a0981b7c34d4c29aee54}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!basename@{basename}}
\index{basename@{basename}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{basename}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ basename (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{string}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_ad9a7ec257396a0981b7c34d4c29aee54}
Strip down path and get filename \begin{DoxyAuthor}{Author}
Kelemen Tamas 
\end{DoxyAuthor}


Definition at line 64 of file trim.\-c.

\hypertarget{mp__local_8h_a6f875afcff66d59c2f2cf2c4587164d8}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!calculate\-\_\-weights@{calculate\-\_\-weights}}
\index{calculate\-\_\-weights@{calculate\-\_\-weights}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{calculate\-\_\-weights}]{\setlength{\rightskip}{0pt plus 5cm}void calculate\-\_\-weights (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{conn}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a6f875afcff66d59c2f2cf2c4587164d8}
Calculate packet\-\_\-max values from weight\-\_\-in and weight\-\_\-out parameters. 
\begin{DoxyParams}{Parameters}
{\em conn} & x \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000008}{Todo}]Not implemented \end{DoxyRefDesc}


Definition at line 966 of file inout.\-c.

\hypertarget{mp__local_8h_af2bc683761df533775725e8fda548fe0}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!check\-\_\-interface@{check\-\_\-interface}}
\index{check\-\_\-interface@{check\-\_\-interface}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{check\-\_\-interface}]{\setlength{\rightskip}{0pt plus 5cm}int check\-\_\-interface (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{interface, }
\item[{int}]{sock}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_af2bc683761df533775725e8fda548fe0}
Check the status of an interface, value 1 means U\-P 

Definition at line 101 of file interface.\-c.

\hypertarget{mp__local_8h_a208a9a5384383265498476ec6a6067f7}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!check\-\_\-loopback@{check\-\_\-loopback}}
\index{check\-\_\-loopback@{check\-\_\-loopback}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{check\-\_\-loopback}]{\setlength{\rightskip}{0pt plus 5cm}int check\-\_\-loopback (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{address}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a208a9a5384383265498476ec6a6067f7}
Check if the address is loopback (Ret. 1=yes) 

Definition at line 47 of file interface.\-c.

\hypertarget{mp__local_8h_a607ad21163cd4925cf44f8b06376e3ef}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!cmd\-\_\-open\-\_\-socket@{cmd\-\_\-open\-\_\-socket}}
\index{cmd\-\_\-open\-\_\-socket@{cmd\-\_\-open\-\_\-socket}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{cmd\-\_\-open\-\_\-socket}]{\setlength{\rightskip}{0pt plus 5cm}int cmd\-\_\-open\-\_\-socket (
\begin{DoxyParamCaption}
\item[{{\bf tunnel\-\_\-type} $\ast$}]{tun}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a607ad21163cd4925cf44f8b06376e3ef}
Open and bind the cmd socket 

Definition at line 79 of file tunnel.\-c.

\hypertarget{mp__local_8h_a658a78986397ef5b54cb5344e5ffa160}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!cmd\-\_\-read\-\_\-thread@{cmd\-\_\-read\-\_\-thread}}
\index{cmd\-\_\-read\-\_\-thread@{cmd\-\_\-read\-\_\-thread}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{cmd\-\_\-read\-\_\-thread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ cmd\-\_\-read\-\_\-thread (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a658a78986397ef5b54cb5344e5ffa160}
The thread to read commands from the cmd socket 

Definition at line 115 of file thread.\-c.

\hypertarget{mp__local_8h_af53d1429392b1c1dbc9250bf0a6839df}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-activate@{conn\-\_\-activate}}
\index{conn\-\_\-activate@{conn\-\_\-activate}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-activate}]{\setlength{\rightskip}{0pt plus 5cm}int conn\-\_\-activate (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{conn, }
\item[{int}]{replicate}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_af53d1429392b1c1dbc9250bf0a6839df}
Setup new or modify existing connection


\begin{DoxyParams}{Parameters}
{\em conn} & The connection needed to add \\
\hline
{\em replicate} & If set to 1, than send this connection to the remote peer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns 0 if the connection is new or the same as \hyperlink{mp__local_8h_acfb42844cff2af7ba8fb07d62cfe5793}{conn\-\_\-diff()} if the connection is changed 
\end{DoxyReturn}


Definition at line 753 of file inout.\-c.

\hypertarget{mp__local_8h_acfb42844cff2af7ba8fb07d62cfe5793}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-diff@{conn\-\_\-diff}}
\index{conn\-\_\-diff@{conn\-\_\-diff}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-diff}]{\setlength{\rightskip}{0pt plus 5cm}int conn\-\_\-diff (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{old, }
\item[{{\bf connection\-\_\-type} $\ast$}]{new}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_acfb42844cff2af7ba8fb07d62cfe5793}
Copy changes from a new temporary connection to the existing 
\begin{DoxyParams}{Parameters}
{\em old} & The existing connection, destination \\
\hline
{\em new} & The new connection, the source \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns with 0, if nothing changed. 
\end{DoxyReturn}


Definition at line 543 of file inout.\-c.

\hypertarget{mp__local_8h_a1b2a26c6ac333259fc57aa47c3e7c299}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-mirror@{conn\-\_\-mirror}}
\index{conn\-\_\-mirror@{conn\-\_\-mirror}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-mirror}]{\setlength{\rightskip}{0pt plus 5cm}void conn\-\_\-mirror (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{dst, }
\item[{{\bf connection\-\_\-type} $\ast$}]{src}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a1b2a26c6ac333259fc57aa47c3e7c299}
Create a suitable connection for the local side from the remote configuration


\begin{DoxyParams}{Parameters}
{\em dst} & The destination of the new configuration \\
\hline
{\em src} & The configuration received from the remote host \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000007}{Todo}]search new unused port and send it back to the client \end{DoxyRefDesc}


Definition at line 898 of file inout.\-c.

\hypertarget{mp__local_8h_ad16eb426ae11cfdd188d4d480b23f563}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-new@{conn\-\_\-new}}
\index{conn\-\_\-new@{conn\-\_\-new}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-new}]{\setlength{\rightskip}{0pt plus 5cm}{\bf connection\-\_\-type}$\ast$ conn\-\_\-new (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{conn}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_ad16eb426ae11cfdd188d4d480b23f563}
Create a new empty connection and append it to the end of the list 
\begin{DoxyParams}{Parameters}
{\em conn} & Can be the last item of the connections list to speed up iteration, but can be the head. If it is N\-U\-L\-L, than \hyperlink{mp__local_8h_ae207e2e02fdde659cbc918346dfc122d}{mp\-\_\-global\-\_\-conn} will be used. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the new connection 
\end{DoxyReturn}


Definition at line 469 of file inout.\-c.

\hypertarget{mp__local_8h_aca259911efafb03b293bd21b1d582411}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-open\-\_\-socket@{conn\-\_\-open\-\_\-socket}}
\index{conn\-\_\-open\-\_\-socket@{conn\-\_\-open\-\_\-socket}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-open\-\_\-socket}]{\setlength{\rightskip}{0pt plus 5cm}int conn\-\_\-open\-\_\-socket (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{conn}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_aca259911efafb03b293bd21b1d582411}
Open the socket of the specified connecton (after 'Load') 
\begin{DoxyParams}{Parameters}
{\em conn} & The connection which needed to be \\
\hline
\end{DoxyParams}


Definition at line 51 of file connection.\-c.

\hypertarget{mp__local_8h_ad6409ab8494034cdc13ff7ef73471654}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-print\-\_\-item@{conn\-\_\-print\-\_\-item}}
\index{conn\-\_\-print\-\_\-item@{conn\-\_\-print\-\_\-item}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-print\-\_\-item}]{\setlength{\rightskip}{0pt plus 5cm}void conn\-\_\-print\-\_\-item (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{stream, }
\item[{{\bf connection\-\_\-type} $\ast$}]{conn}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_ad6409ab8494034cdc13ff7ef73471654}
Print out debug information about a connection 
\begin{DoxyParams}{Parameters}
{\em conn} & The connection \\
\hline
\end{DoxyParams}


Definition at line 61 of file inout.\-c.

\hypertarget{mp__local_8h_a2c00e9bb9ed07305b4f2804da2475f64}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!conn\-\_\-search\-\_\-ip@{conn\-\_\-search\-\_\-ip}}
\index{conn\-\_\-search\-\_\-ip@{conn\-\_\-search\-\_\-ip}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{conn\-\_\-search\-\_\-ip}]{\setlength{\rightskip}{0pt plus 5cm}{\bf connection\-\_\-type}$\ast$ conn\-\_\-search\-\_\-ip (
\begin{DoxyParamCaption}
\item[{bit\-\_\-8}]{version, }
\item[{bit\-\_\-32 $\ast$}]{local, }
\item[{bit\-\_\-32 $\ast$}]{remote, }
\item[{{\bf connection\-\_\-type} $\ast$}]{conn}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a2c00e9bb9ed07305b4f2804da2475f64}
Search the connection specified by version, local ip and remote ip keys 
\begin{DoxyParams}{Parameters}
{\em version} & The I\-P Version number (4 or 6) \\
\hline
{\em local} & The local I\-P address \\
\hline
{\em remote} & The remote I\-P address \\
\hline
{\em conn} & The head of the connections list \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the connection or N\-U\-L\-L if not found 
\end{DoxyReturn}


Definition at line 90 of file connection.\-c.

\hypertarget{mp__local_8h_a2e7d36afac5b6fe9837c6f49ee995b0b}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!do\-\_\-command@{do\-\_\-command}}
\index{do\-\_\-command@{do\-\_\-command}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{do\-\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}int do\-\_\-command (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{conn, }
\item[{char $\ast$}]{buff, }
\item[{int $\ast$}]{blen}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a2e7d36afac5b6fe9837c6f49ee995b0b}
Do the command received from the network peer. This is used in \hyperlink{mp__local_8h_a658a78986397ef5b54cb5344e5ffa160}{cmd\-\_\-read\-\_\-thread()}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em conn} & The connection of the network peer \\
\hline
\mbox{\tt in,out}  & {\em buff} & Contains the message received. After execution, it will contain the response message \\
\hline
\mbox{\tt in,out}  & {\em blen} & The size of the buff param \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns with 1 if need to send response to the message 
\end{DoxyReturn}


Definition at line 110 of file command.\-c.

\hypertarget{mp__local_8h_ac7f650825a1427dd995e571d1115eae4}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!getcmd@{getcmd}}
\index{getcmd@{getcmd}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{getcmd}]{\setlength{\rightskip}{0pt plus 5cm}int getcmd (
\begin{DoxyParamCaption}
\item[{int}]{sock, }
\item[{char $\ast$}]{buff, }
\item[{int}]{blen, }
\item[{int}]{flags, }
\item[{struct sockaddr $\ast$}]{saddr, }
\item[{unsigned int $\ast$}]{ssize}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_ac7f650825a1427dd995e571d1115eae4}
Receive from the peer with 100 ms timeout value. The parameters are the same as recvfrom()

\begin{DoxyReturn}{Returns}
Returns with the number of received bytes or with -\/1 on errors. 
\end{DoxyReturn}


Definition at line 16 of file mpt.\-c.

\hypertarget{mp__local_8h_a446ce59743b5f815479dbb02e412c63d}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!interface\-\_\-change\-\_\-status@{interface\-\_\-change\-\_\-status}}
\index{interface\-\_\-change\-\_\-status@{interface\-\_\-change\-\_\-status}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{interface\-\_\-change\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}void interface\-\_\-change\-\_\-status (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{interface, }
\item[{bit\-\_\-8}]{status}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a446ce59743b5f815479dbb02e412c63d}
Change the path status for all path of the intercace 

Definition at line 61 of file interface.\-c.

\hypertarget{mp__local_8h_a3bb92457ac146b59d2430055ec439b4c}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!keepalive\-\_\-send\-\_\-thread@{keepalive\-\_\-send\-\_\-thread}}
\index{keepalive\-\_\-send\-\_\-thread@{keepalive\-\_\-send\-\_\-thread}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{keepalive\-\_\-send\-\_\-thread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ keepalive\-\_\-send\-\_\-thread (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a3bb92457ac146b59d2430055ec439b4c}
The thread to send keepalive messages 

Definition at line 258 of file thread.\-c.

\hypertarget{mp__local_8h_a779a9a02fed40611b98207967fa8fe76}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!mac\-\_\-pton@{mac\-\_\-pton}}
\index{mac\-\_\-pton@{mac\-\_\-pton}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{mac\-\_\-pton}]{\setlength{\rightskip}{0pt plus 5cm}void mac\-\_\-pton (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{src, }
\item[{char $\ast$}]{dst}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a779a9a02fed40611b98207967fa8fe76}
Convert the M\-A\-C address string ('\-:' or '-\/' byte delimiter) to binary form 

Definition at line 15 of file interface.\-c.

\hypertarget{mp__local_8h_a5050eed2d2a7db74251b88065c338002}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!path\-\_\-change\-\_\-status@{path\-\_\-change\-\_\-status}}
\index{path\-\_\-change\-\_\-status@{path\-\_\-change\-\_\-status}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{path\-\_\-change\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}int path\-\_\-change\-\_\-status (
\begin{DoxyParamCaption}
\item[{{\bf connection\-\_\-type} $\ast$}]{conn, }
\item[{int}]{pind, }
\item[{bit\-\_\-8}]{lstatus}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a5050eed2d2a7db74251b88065c338002}
Initiate the change of the path's status


\begin{DoxyParams}{Parameters}
{\em conn} & The connection to use \\
\hline
{\em pind} & Index of path \\
\hline
{\em lstatus} & The new status to use\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
On successful operation returns with 0, otherwise with -\/1. 
\end{DoxyReturn}


Definition at line 292 of file command.\-c.

\hypertarget{mp__local_8h_ad7fd80ef93e961a5cf06ac88f41c4f34}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!socket\-\_\-read\-\_\-thread@{socket\-\_\-read\-\_\-thread}}
\index{socket\-\_\-read\-\_\-thread@{socket\-\_\-read\-\_\-thread}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{socket\-\_\-read\-\_\-thread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ socket\-\_\-read\-\_\-thread (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_ad7fd80ef93e961a5cf06ac88f41c4f34}
The thread to read data from the connection's socket 

Definition at line 87 of file thread.\-c.

\hypertarget{mp__local_8h_a29ba0737e871f9becbdf9b18aec433ec}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!trim@{trim}}
\index{trim@{trim}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{trim}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ trim (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{s}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_a29ba0737e871f9becbdf9b18aec433ec}
Strip whitespace from the beginning and end of a string 

Definition at line 54 of file trim.\-c.

\hypertarget{mp__local_8h_afe659fe063d7261a85aa6d4e93b9fd92}{\index{mp\-\_\-local.\-h@{mp\-\_\-local.\-h}!tunnel\-\_\-read\-\_\-thread@{tunnel\-\_\-read\-\_\-thread}}
\index{tunnel\-\_\-read\-\_\-thread@{tunnel\-\_\-read\-\_\-thread}!mp_local.h@{mp\-\_\-local.\-h}}
\subsubsection[{tunnel\-\_\-read\-\_\-thread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ tunnel\-\_\-read\-\_\-thread (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}}\label{mp__local_8h_afe659fe063d7261a85aa6d4e93b9fd92}
The thread to read data from the tunnel interface 

Definition at line 19 of file thread.\-c.

